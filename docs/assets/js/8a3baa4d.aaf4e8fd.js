"use strict";(self.webpackChunkcyberdocs=self.webpackChunkcyberdocs||[]).push([[5756],{3905:(e,n,r)=>{r.d(n,{Zo:()=>s,kt:()=>k});var a=r(7294);function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function l(e,n){if(null==e)return{};var r,a,t=function(e,n){if(null==e)return{};var r,a,t={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],n.indexOf(r)>=0||(t[r]=e[r]);return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var c=a.createContext({}),p=function(e){var n=a.useContext(c),r=n;return e&&(r="function"==typeof e?e(n):i(i({},n),e)),r},s=function(e){var n=p(e.components);return a.createElement(c.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var r=e.components,t=e.mdxType,o=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=p(r),m=t,k=d["".concat(c,".").concat(m)]||d[m]||u[m]||o;return r?a.createElement(k,i(i({ref:n},s),{},{components:r})):a.createElement(k,i({ref:n},s))}));function k(e,n){var r=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var o=r.length,i=new Array(o);i[0]=m;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l[d]="string"==typeof e?e:t,i[1]=l;for(var p=2;p<o;p++)i[p]=r[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},6592:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=r(7462),t=(r(7294),r(3905));const o={sidebar_position:9},i="Tutoriales",l={unversionedId:"MF0490_3/tutoriales",id:"MF0490_3/tutoriales",title:"Tutoriales",description:"C\xf3mo instalar y configurar OpenLDAP en un contenedor Docker con PhpLDAPadmin",source:"@site/docs/MF0490_3/8_tutoriales.md",sourceDirName:"MF0490_3",slug:"/MF0490_3/tutoriales",permalink:"/IFCT0109/docs/MF0490_3/tutoriales",draft:!1,tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"7 - Administraci\xf3n del control de accesos adecuados de los sistemas de informaci\xf3n",permalink:"/IFCT0109/docs/MF0490_3/administracion_control_access"},next:{title:"FOL",permalink:"/IFCT0109/docs/category/fol"}},c={},p=[{value:"C\xf3mo instalar y configurar OpenLDAP en un contenedor Docker con PhpLDAPadmin",id:"c\xf3mo-instalar-y-configurar-openldap-en-un-contenedor-docker-con-phpldapadmin",level:2},{value:"Recursos",id:"recursos",level:3}],s={toc:p},d="wrapper";function u(e){let{components:n,...r}=e;return(0,t.kt)(d,(0,a.Z)({},s,r,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"tutoriales"},"Tutoriales"),(0,t.kt)("h2",{id:"c\xf3mo-instalar-y-configurar-openldap-en-un-contenedor-docker-con-phpldapadmin"},"C\xf3mo instalar y configurar OpenLDAP en un contenedor Docker con PhpLDAPadmin"),(0,t.kt)("p",null,"Crear un nuevo directorio en la m\xe1quina donde desea almacenar los archivos de configuraci\xf3n para el servidor LDAP."),(0,t.kt)("p",null,"Dentro del directorio reci\xe9n creado, crear un nuevo archivo llamado ",(0,t.kt)("strong",{parentName:"p"},"docker-compose.yml"),"."),(0,t.kt)("p",null,"Copiar el siguiente c\xf3digo en el archivo ",(0,t.kt)("strong",{parentName:"p"},"docker-compose.yml"),"."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-xml"},'version: \'3.8\'\nservices:\n  openldap:\n    image: osixia/openldap:latest\n    container_name: openldap\n    hostname: openldap\n    ports:\n      - "389:389"\n      - "636:636"\n    volumes:\n      - ./data/certificates:/container/service/slapd/assets/certs\n      - ./data/slapd/database:/var/lib/ldap\n      - ./data/slapd/config:/etc/ldap/slapd.d\n    environment:\n      - LDAP_ORGANISATION=ciber\n      - LDAP_DOMAIN=ciber.com\n      - LDAP_ADMIN_USERNAME=admin\n      - LDAP_ADMIN_PASSWORD=admin_pass\n      - LDAP_CONFIG_PASSWORD=config_pass\n      - "LDAP_BASE_DN=dc=ciber,dc=com"\n      - LDAP_TLS_CRT_FILENAME=server.crt\n      - LDAP_TLS_KEY_FILENAME=server.key\n      - LDAP_TLS_CA_CRT_FILENAME=ciber.com.ca.crt\n      - LDAP_READONLY_USER=true\n      - LDAP_READONLY_USER_USERNAME=user-ro\n      - LDAP_READONLY_USER_PASSWORD=ro_pass\n    networks:\n      - openldap\n\n  phpldapadmin:\n    image: osixia/phpldapadmin:latest\n    container_name: phpldapadmin\n    hostname: phpldapadmin\n    ports:\n      - "80:80"\n    environment:\n      - PHPLDAPADMIN_LDAP_HOSTS=openldap\n      - PHPLDAPADMIN_HTTPS=false\n    depends_on:\n      - openldap\n    networks:\n      - openldap\n\nnetworks:\n  openldap:\n    driver: bridge\n\n')),(0,t.kt)("p",null,"Guardar el archivo y ejecutar el siguiente comando en el terminal dentro del directorio donde cre\xf3 el archivo ",(0,t.kt)("strong",{parentName:"p"},"docker-compose.yml"),"."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"docker-compose up -d\n")),(0,t.kt)("p",null,"Una vez que los contenedores est\xe9n en funcionamiento, para acceder a la interfaz web phpLDAPadmin, abrir un navegador web e introducir la siguiente URL."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"http://localhost\n")),(0,t.kt)("p",null,"Para iniciar sesi\xf3n, introducir ",(0,t.kt)("strong",{parentName:"p"},"cn=admin,dc=ciber,dc=com")," como nombre de usuario y ",(0,t.kt)("strong",{parentName:"p"},"admin_pass")," como contrase\xf1a."),(0,t.kt)("p",null,"Despu\xe9s de iniciar sesi\xf3n, puede comenzar a administrar el servidor LDAP mediante la interfaz de phpLDAPadmin."),(0,t.kt)("p",null,"Para finalizar la ejecuci\xf3n de los contenedores ejecutar el siguiente comando en el terminal dentro del directorio donde cre\xf3 el archivo ",(0,t.kt)("strong",{parentName:"p"},"docker-compose.yml"),"."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"docker-compose down\n")),(0,t.kt)("p",null,"Acceder al contenedor openldap:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"docker-compose exec openldap bash\n")),(0,t.kt)("p",null,"Puede utilizar ",(0,t.kt)("inlineCode",{parentName:"p"},"ldapsearch")," para verificar nuestro usuario:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"//\n")),(0,t.kt)("p",null,"O podemos usar ",(0,t.kt)("inlineCode",{parentName:"p"},"ldapwhoami"),":"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"//\n")),(0,t.kt)("h3",{id:"recursos"},"Recursos"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://github.com/wheelybird/ldap-user-manager"},"https://github.com/wheelybird/ldap-user-manager")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://computingforgeeks.com/run-openldap-server-in-docker-containers/"},"https://computingforgeeks.com/run-openldap-server-in-docker-containers/")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://www.digitalocean.com/community/tutorials/understanding-the-ldap-protocol-data-hierarchy-and-entry-components"},"https://www.digitalocean.com/community/tutorials/understanding-the-ldap-protocol-data-hierarchy-and-entry-components")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://scytalelabs.com/2023/01/10/setup-and-configure-openldap-using-docker-image-on-ubuntu-16-04/"},"https://scytalelabs.com/2023/01/10/setup-and-configure-openldap-using-docker-image-on-ubuntu-16-04/")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://devopsideas.com/openldap-tutorial-practical-realtime-implemetnation-and-integration/"},"https://devopsideas.com/openldap-tutorial-practical-realtime-implemetnation-and-integration/"))))}u.isMDXComponent=!0}}]);