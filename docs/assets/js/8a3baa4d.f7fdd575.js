"use strict";(self.webpackChunkcyberdocs=self.webpackChunkcyberdocs||[]).push([[5756],{3905:(e,n,a)=>{a.d(n,{Zo:()=>s,kt:()=>k});var r=a(7294);function t(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){t(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function i(e,n){if(null==e)return{};var a,r,t=function(e,n){if(null==e)return{};var a,r,t={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)>=0||(t[a]=e[a]);return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var l=r.createContext({}),c=function(e){var n=r.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):p(p({},n),e)),a},s=function(e){var n=c(e.components);return r.createElement(l.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var a=e.components,t=e.mdxType,o=e.originalType,l=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=c(a),m=t,k=d["".concat(l,".").concat(m)]||d[m]||u[m]||o;return a?r.createElement(k,p(p({ref:n},s),{},{components:a})):r.createElement(k,p({ref:n},s))}));function k(e,n){var a=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var o=a.length,p=new Array(o);p[0]=m;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i[d]="string"==typeof e?e:t,p[1]=i;for(var c=2;c<o;c++)p[c]=a[c];return r.createElement.apply(null,p)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},6592:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>p,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var r=a(7462),t=(a(7294),a(3905));const o={sidebar_position:9},p="8 - Tutoriales",i={unversionedId:"MF0490_3/tutoriales",id:"MF0490_3/tutoriales",title:"8 - Tutoriales",description:"C\xf3mo instalar y configurar OpenLDAP en un contenedor Docker con PhpLDAPadmin",source:"@site/docs/MF0490_3/8_tutoriales.md",sourceDirName:"MF0490_3",slug:"/MF0490_3/tutoriales",permalink:"/IFCT0109/docs/MF0490_3/tutoriales",draft:!1,tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"7 - Administraci\xf3n del control de accesos adecuados de los sistemas de informaci\xf3n",permalink:"/IFCT0109/docs/MF0490_3/administracion_control_access"},next:{title:"9 - Recursos",permalink:"/IFCT0109/docs/MF0490_3/recursos_MF0490_3"}},l={},c=[{value:"C\xf3mo instalar y configurar OpenLDAP en un contenedor Docker con PhpLDAPadmin",id:"c\xf3mo-instalar-y-configurar-openldap-en-un-contenedor-docker-con-phpldapadmin",level:2},{value:"Recursos",id:"recursos",level:3}],s={toc:c},d="wrapper";function u(e){let{components:n,...a}=e;return(0,t.kt)(d,(0,r.Z)({},s,a,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"8---tutoriales"},"8 - Tutoriales"),(0,t.kt)("h2",{id:"c\xf3mo-instalar-y-configurar-openldap-en-un-contenedor-docker-con-phpldapadmin"},"C\xf3mo instalar y configurar OpenLDAP en un contenedor Docker con PhpLDAPadmin"),(0,t.kt)("p",null,"Crear un nuevo directorio en la m\xe1quina donde desea almacenar los archivos de configuraci\xf3n para el servidor LDAP."),(0,t.kt)("p",null,"Dentro del directorio reci\xe9n creado, crear un nuevo archivo llamado ",(0,t.kt)("strong",{parentName:"p"},"docker-compose.yml"),"."),(0,t.kt)("p",null,"Copiar el siguiente c\xf3digo en el archivo ",(0,t.kt)("strong",{parentName:"p"},"docker-compose.yml")," , verificar que no existan errores como espacios o tabulaciones innecesarias."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yaml"},'version: "3.8"\nservices:\n  openldap:\n    image: osixia/openldap:latest\n    container_name: openldap\n    hostname: openldap\n    ports:\n      - "389:389"\n      - "636:636"\n    volumes:\n      - ./data/certificates:/container/service/slapd/assets/certs\n      - ./data/slapd/database:/var/lib/ldap\n      - ./data/slapd/config:/etc/ldap/slapd.d\n    environment:\n      - LDAP_ORGANISATION=ciber\n      - LDAP_DOMAIN=ciber.com\n      - LDAP_ADMIN_USERNAME=admin\n      - LDAP_ADMIN_PASSWORD=admin_pass\n      - LDAP_CONFIG_PASSWORD=config_pass\n      - "LDAP_BASE_DN=dc=ciber,dc=com"\n      - LDAP_TLS_CRT_FILENAME=server.crt\n      - LDAP_TLS_KEY_FILENAME=server.key\n      - LDAP_TLS_CA_CRT_FILENAME=ciber.com.ca.crt\n      - LDAP_READONLY_USER=true\n      - LDAP_READONLY_USER_USERNAME=user-ro\n      - LDAP_READONLY_USER_PASSWORD=ro_pass\n    networks:\n      - openldap\n\n  phpldapadmin:\n    image: osixia/phpldapadmin:latest\n    container_name: phpldapadmin\n    hostname: phpldapadmin\n    ports:\n      - "80:80"\n    environment:\n      - PHPLDAPADMIN_LDAP_HOSTS=openldap\n      - PHPLDAPADMIN_HTTPS=false\n    depends_on:\n      - openldap\n    networks:\n      - openldap\n\nnetworks:\n  openldap:\n    driver: bridge\n')),(0,t.kt)("p",null,"Guardar el archivo y ejecutar el siguiente comando en el terminal dentro del directorio donde cre\xf3 el archivo ",(0,t.kt)("strong",{parentName:"p"},"docker-compose.yml"),"."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"docker-compose up -d\n")),(0,t.kt)("p",null,"Comprobar que los contenedores estan funcionando correctamente con el comando:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"docker ps -a\n")),(0,t.kt)("p",null,"Aparecera en pantalla una informaci\xf3n similar a la siguiente:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},'\nCONTAINER ID   IMAGE                           COMMAND                 CREATED          STATUS          PORTS                                                                                            NAMES\n534a117e5942   osixia/phpldapadmin:latest      "/container/tool/run"   16 seconds ago   Up 13 seconds   0.0.0.0:80->80/tcp, :::80->80/tcp, 443/tcp                                                       phpldapadmin\n2cdb376b833d   osixia/openldap:latest          "/container/tool/run"   18 seconds ago   Up 15 seconds   0.0.0.0:389->389/tcp, :::389->389/tcp, 0.0.0.0:636->636/tcp, :::636->636/tcp                     openldap\n')),(0,t.kt)("p",null,"Una vez que los contenedores est\xe9n en funcionamiento, para acceder a la interfaz web phpLDAPadmin, abrir un navegador web e introducir la siguiente URL."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"http://localhost\n")),(0,t.kt)("p",null,"Para iniciar sesi\xf3n, introducir ",(0,t.kt)("strong",{parentName:"p"},"cn=admin,dc=ciber,dc=com")," como nombre de usuario y ",(0,t.kt)("strong",{parentName:"p"},"admin_pass")," como contrase\xf1a."),(0,t.kt)("p",null,"Despu\xe9s de iniciar sesi\xf3n, puede comenzar a administrar el servidor LDAP mediante la interfaz de phpLDAPadmin."),(0,t.kt)("p",null,"Para finalizar la ejecuci\xf3n de los contenedores ejecutar el siguiente comando en el terminal dentro del directorio donde cre\xf3 el archivo ",(0,t.kt)("strong",{parentName:"p"},"docker-compose.yml"),"."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"docker-compose down\n")),(0,t.kt)("p",null,"Acceder al contenedor openldap:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"docker-compose exec openldap bash\n")),(0,t.kt)("p",null,"Puede utilizar ",(0,t.kt)("inlineCode",{parentName:"p"},"ldapsearch")," para verificar nuestro usuario:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"//\n")),(0,t.kt)("p",null,"O podemos usar ",(0,t.kt)("inlineCode",{parentName:"p"},"ldapwhoami"),":"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-console"},"//\n")),(0,t.kt)("h3",{id:"recursos"},"Recursos"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://github.com/wheelybird/ldap-user-manager"},"https://github.com/wheelybird/ldap-user-manager")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://computingforgeeks.com/run-openldap-server-in-docker-containers/"},"https://computingforgeeks.com/run-openldap-server-in-docker-containers/")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://www.digitalocean.com/community/tutorials/understanding-the-ldap-protocol-data-hierarchy-and-entry-components"},"https://www.digitalocean.com/community/tutorials/understanding-the-ldap-protocol-data-hierarchy-and-entry-components")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://scytalelabs.com/2023/01/10/setup-and-configure-openldap-using-docker-image-on-ubuntu-16-04/"},"https://scytalelabs.com/2023/01/10/setup-and-configure-openldap-using-docker-image-on-ubuntu-16-04/")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://devopsideas.com/openldap-tutorial-practical-realtime-implemetnation-and-integration/"},"https://devopsideas.com/openldap-tutorial-practical-realtime-implemetnation-and-integration/")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://www.techrepublic.com/article/how-to-populate-an-ldap-server-with-users-and-groups-via-phpldapadmin/"},"https://www.techrepublic.com/article/how-to-populate-an-ldap-server-with-users-and-groups-via-phpldapadmin/")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://old-demo.phpldapadmin.org/"},"https://old-demo.phpldapadmin.org/")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"https://demo.phpldapadmin.org/"},"https://demo.phpldapadmin.org/"))))}u.isMDXComponent=!0}}]);